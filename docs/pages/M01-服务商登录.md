# 服务商登录页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | `/pages/merchant/login/index` |
| 页面标识 | 服务商登录、维修厂登录 |
| 载体 | 微信小程序（与车主端同一小程序） |
| 入口 | 车主端 个人中心 → 设置 → 服务商登录 |

## 页面功能概述

维修厂/服务商通过手机号+密码或微信快捷登录，登录成功后进入服务商工作台，使用报价、接单、订单管理等功能。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 服务商端标识 | 标明为维修厂/服务商入口 |
| 登录表单 | 手机号、密码 |
| 登录按钮 | 提交登录 |
| 注册入口 | 没有账号，去注册 |
| 忘记密码 | 找回密码入口（如有） |
| 微信快捷登录 | 可选，绑定已有服务商账号 |

## 功能点详细说明

### 功能点 1：手机号密码登录

| 项目 | 说明 |
|------|------|
| 功能 ID | F-M-LOGIN-001 |
| 功能描述 | 已注册服务商使用手机号+密码登录 |
| 操作流程 | 输入手机号、密码 → 点击登录 |
| 预期结果 | 登录成功，跳转服务商工作台 |
| 备注 | 与 merchant_users 表关联 |

### 功能点 2：去注册

| 项目 | 说明 |
|------|------|
| 功能 ID | F-M-LOGIN-002 |
| 功能描述 | 跳转服务商注册页 |
| 操作流程 | 点击「没有账号，去注册」 |
| 预期结果 | 跳转 `/pages/merchant/register/index` |

## 页面参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| redirect | string | 否 | 登录成功后跳转路径 |

## 交互逻辑

1. **进入页面**：从设置页跳转或直接访问。
2. **登录**：校验手机号、密码非空 → 调用登录接口 → 成功则存储 merchant_token，跳转工作台或 redirect。
3. **失败**：展示错误信息，支持重试。

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/merchant/login | POST | 服务商登录，请求体 { phone, password }，返回 { token, user } |

## 异常与边界

- 手机号或密码为空：提示必填。
- 登录失败：展示接口返回错误信息。
- 账号未审核：提示「账号审核中，请耐心等待」。
- 账号禁用：提示「账号已禁用，请联系平台」。
