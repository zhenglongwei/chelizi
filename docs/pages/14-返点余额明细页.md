# 奖励金余额明细页

> **术语变更**：原「返点」已统一为「奖励金」，以《评价和激励体系.md》为准。

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | `/pages/user/balance` |
| 页面标识 | 奖励金余额、奖励金明细、我的奖励金 |
| TabBar 位置 | 否 |

## 页面功能概述

展示用户奖励金余额、累计奖励金，以及余额变动明细（评价奖励金、提现等），支持发起提现。明细按订单分级、评价阶段区分，单次奖励 ≤800 元无需扣税。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 余额概览 | 当前可提现余额、累计获得奖励金 |
| 提现入口 | 提现按钮 |
| 个税说明 | 单次奖励 ≤800 元无需扣税；>800 元平台承担，用户领取税后全额 |
| 明细列表 | 收入/支出记录，按时间倒序 |
| 明细卡片 | 类型、金额、时间、订单分级、评价阶段、代扣个税（如有）、订单/评价关联 |
| 空状态 | 暂无明细时的提示 |

## 功能点详细说明

### 功能点 1：余额展示

| 项目 | 说明 |
|------|------|
| 功能 ID | F-BALANCE-001 |
| 功能描述 | 展示当前可提现余额、累计奖励金 |
| 操作流程 | 进入页面加载 |
| 预期结果 | 清晰展示金额，单位元 |

### 功能点 2：提现

| 项目 | 说明 |
|------|------|
| 功能 ID | F-BALANCE-002 |
| 功能描述 | 申请提现到微信零钱 |
| 操作流程 | 点击提现 → 输入金额（最低 10 元）→ 选择微信零钱 → 确认 |
| 预期结果 | 提交提现申请；显示预计到账时间（1–3 个工作日） |
| 备注 | 最低 10 元；单日最高 5000 元 |

### 功能点 3：余额明细

| 项目 | 说明 |
|------|------|
| 功能 ID | F-BALANCE-003 |
| 功能描述 | 展示余额变动记录 |
| 明细类型 | 评价奖励金（按订单分级、评价阶段区分：主评价/1 个月追评/3 个月追评）、提现、提现失败退回等 |
| 扩展字段 | `reward_tier`（订单分级）、`review_stage`（main/1m/3m）、`tax_deducted`（代扣个税） |
| 预期结果 | 按时间倒序；支持分页；点击可跳转关联订单/评价；单次 ≤800 元标注「无需扣税」 |
| 备注 | 每条记录标明类型、金额、时间、来源、个税说明 |

## 页面参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 无 | - | - | 从个人中心「奖励金余额」或「我的奖励金」进入 |

## 交互逻辑

1. **进入页面**：加载余额、累计奖励金、明细列表。
2. **提现**：弹窗或新页输入金额；校验最低/最高限制；调用 withdraw 接口；成功后刷新余额和明细。
3. **明细**：下拉刷新、上拉加载更多；点击记录可跳转关联页面（如有）。

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/user/balance | GET | 获取余额、累计奖励金、明细；响应扩展：`reward_tier`、`review_stage`、`tax_deducted` |
| /api/v1/user/withdraw | POST | 申请提现 |

## 异常与边界

- 未登录：跳转登录。
- 余额不足 10 元：提现按钮禁用或提示「至少 10 元可提现」。
- 提现失败：展示错误信息，金额不扣减。
- 空明细：展示「暂无记录」。
