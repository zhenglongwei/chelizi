# 系统配置页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | /admin/config |
| 页面标识 | 系统配置、全局参数 |
| 载体 | Web 管理后台 |
| 源码位置 | web/src/admin/pages/SystemConfig.tsx |

## 页面功能概述

配置平台全局参数，如 AI 调用限制、竞价有效期、**分账与评价开关**（`require_settlement_before_review`）等，存储在 settings 表，供 API 读取。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 配置列表 | key-value 形式展示各配置项 |
| 编辑 | 修改 value 并保存 |
| 新增 | 可选，添加新配置项 |

## 功能点详细说明

### 功能点 1：查看配置

| 项目 | 说明 |
|------|------|
| 功能 ID | F-A-CONFIG-001 |
| 功能描述 | 展示当前系统配置 |
| 操作流程 | 进入页面加载 |
| 预期结果 | 展示 settings 表数据，如 ai_daily_limit、require_settlement_before_review 等 |

### 功能点 2：更新配置

| 项目 | 说明 |
|------|------|
| 功能 ID | F-A-CONFIG-002 |
| 功能描述 | 修改配置项并保存 |
| 操作流程 | 修改 value → 保存 |
| 预期结果 | 更新 settings 表 |
| 备注 | 修改后 API 读取新值，可能需重启或热加载 |

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/admin/config | GET | 获取配置列表 |
| /api/v1/admin/config | PUT | 更新单条，请求体 { key, value } |
| /api/v1/admin/config/batch | POST | 批量更新，请求体 { items: [{ key, value }] } |

## 异常与边界

- 配置项不存在：新增时插入，更新时需确认 key 存在。
- 敏感配置：如 JWT_SECRET 不建议在后台修改，需服务器端操作。

## 样式说明

后台为 Web 页面，样式独立于小程序。
