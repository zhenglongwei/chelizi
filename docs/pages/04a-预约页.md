# 预约页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | `/pages/shop/book` |
| 页面标识 | 维修厂预约、立即预约 |
| TabBar 位置 | 否 |

## 页面功能概述

从维修厂详情页「立即预约」进入，选择预约时间、服务项目，提交预约请求。维修厂收到通知后可确认或联系用户。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 维修厂信息 | 名称、地址（简要展示） |
| 预约时间 | 日期选择、时间段选择 |
| 服务项目 | 从维修厂服务列表中多选或单选 |
| 备注 | 可选，用户补充说明 |
| 提交按钮 | 提交预约 |

## 功能点详细说明

### 功能点 1：选择预约时间

| 项目 | 说明 |
|------|------|
| 功能 ID | F-BOOK-001 |
| 功能描述 | 选择预约日期和时段 |
| 操作流程 | 选择日期 → 选择时段（如 上午/下午 或 具体时段） |
| 预期结果 | 展示可选时段，用户选择后记录 |

### 功能点 2：选择服务项目

| 项目 | 说明 |
|------|------|
| 功能 ID | F-BOOK-002 |
| 功能描述 | 选择需要预约的维修项目 |
| 操作流程 | 从维修厂服务列表中勾选 |
| 预期结果 | 记录选择的项目，用于维修厂准备 |

### 功能点 3：提交预约

| 项目 | 说明 |
|------|------|
| 功能 ID | F-BOOK-003 |
| 功能描述 | 提交预约请求 |
| 操作流程 | 填写完整 → 点击提交 |
| 预期结果 | 提交成功，维修厂收到通知，用户可返回或查看预约记录 |

## 页面参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | string | 是 | 维修厂 ID（shop_id） |

## 交互逻辑

1. **进入页面**：根据 `id` 加载维修厂基本信息及服务项目列表。
2. **时间选择**：默认可选今日起 7 天内，避免过去时间。
3. **提交**：未登录时引导登录；提交成功后提示并返回上一页或跳转预约记录。

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/shops/{id} | GET | 获取维修厂详情（含服务项目） |
| /api/v1/appointments | POST | 提交预约（待实现） |

## 异常与边界

- 维修厂不存在：提示并返回。
- 未登录：引导去登录页。
- 无服务项目：可隐藏项目选择，仅选时间+备注提交。
