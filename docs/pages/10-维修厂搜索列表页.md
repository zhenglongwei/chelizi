# 维修厂搜索列表页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | `/pages/search/list` 或 `/pages/shop/list` |
| 页面标识 | 维修厂搜索、维修厂列表 |
| TabBar 位置 | 是（底部 TabBar「服务商」按钮，消费者查看维修厂列表） |

## 页面功能概述

根据关键词、分类、距离等条件展示维修厂列表，支持搜索、筛选、排序，点击可进入维修厂详情。由首页搜索、快捷入口、附近更多等场景跳转进入。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 搜索栏 | 关键词输入，支持实时搜索或回车搜索 |
| 筛选区 | 分类（钣金喷漆、发动机等）、距离、**排序（与好评率脱钩）** |
| 维修厂列表 | 卡片列表，支持分页/下拉刷新 |
| 维修厂卡片 | 名称、评分、地址、距离、服务标签 |
| 地图模式 | 可选：列表/地图切换展示 |

## 功能点详细说明

### 功能点 1：关键词搜索

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SEARCH-001 |
| 功能描述 | 按维修厂名称、车型、维修项目搜索 |
| 操作流程 | 输入关键词 → 搜索（可防抖） |
| 预期结果 | 展示匹配的维修厂列表 |

### 功能点 2：分类筛选

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SEARCH-002 |
| 功能描述 | 按服务分类筛选 |
| 分类选项 | 钣金喷漆、发动机维修、电路维修、保养服务等 |
| 预期结果 | 筛选后展示对应分类维修厂 |

### 功能点 3：距离/排序

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SEARCH-003 |
| 功能描述 | 按距离、合规率、投诉率、资质等排序；**与好评率完全脱钩** |
| 排序依据 | AI 校验维修合规率、投诉率与纠纷解决率、资质等级与技师持证、报价响应与透明度、质保与售后履约、入驻时长与履约率 |
| 操作流程 | 选择排序方式 |
| 预期结果 | 列表按选择方式重排 |

### 功能点 4：进入详情

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SEARCH-004 |
| 功能描述 | 点击卡片进入维修厂详情 |
| 操作流程 | 点击卡片 |
| 预期结果 | 跳转 `/pages/shop/detail?id={shop_id}` |

### 功能点 5：收藏

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SEARCH-005 |
| 功能描述 | 在列表中收藏/取消收藏维修厂 |
| 操作流程 | 点击卡片上的收藏图标 |
| 预期结果 | 更新收藏状态 |

## 页面参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| keyword | string | 否 | 搜索关键词 |
| category | string | 否 | 服务分类 |
| sort | string | 否 | 排序：distance、compliance_rate、complaint_rate、综合（与好评率脱钩） |

## 交互逻辑

1. **进入页面**：从首页/快捷入口跳转可带 keyword、category；有则预填并触发搜索。
2. **搜索**：输入防抖后请求接口；支持清空重新搜索。
3. **筛选/排序**：变更条件后重新请求列表。
4. **分页**：上拉加载更多；可选下拉刷新。

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/shops/search | GET | 搜索维修厂；扩展排序字段：compliance_rate、complaint_rate 等（脱钩 rating） |
| /api/v1/shops/nearby | GET | 附近维修厂（可作为搜索的一种模式） |

## 异常与边界

- 无定位：可按城市或默认区域搜索，或提示授权。
- 无结果：展示「暂无结果」及建议（如换关键词、扩大范围）。
- 未登录收藏：引导登录后再收藏。
