# 设置页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | `/pages/user/settings` |
| 页面标识 | 设置、账号设置 |
| TabBar 位置 | 否 |

## 页面功能概述

账号设置入口，包含个人信息编辑、服务商注册/登录入口、关于我们、联系客服、隐私政策、退出登录等。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 账号信息 | 头像、昵称、手机号编辑入口 |
| 服务商入口 | 服务商注册、服务商登录 |
| 通用设置 | 消息通知开关等（如有） |
| 关于与帮助 | 关于我们、联系客服、用户协议、隐私政策 |
| 退出登录 | 退出当前账号 |

## 功能点详细说明

### 功能点 1：个人信息编辑

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SETTINGS-001 |
| 功能描述 | 修改头像、昵称、手机号 |
| 操作流程 | 点击对应项 → 进入编辑或调起授权 |
| 预期结果 | 更新后同步到服务端和个人中心展示 |
| 备注 | 头像、昵称按微信规范获取；手机号需 getPhoneNumber |

### 功能点 2：服务商注册/登录

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SETTINGS-002 |
| 功能描述 | 维修厂/服务商注册、登录入口 |
| 操作流程 | 点击服务商注册或登录 |
| 预期结果 | 跳转服务商注册页或服务商登录页 |
| 备注 | 需求文档要求在账号设置下添加此入口 |

### 功能点 3：关于我们

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SETTINGS-003 |
| 功能描述 | 展示平台介绍、版本号等 |
| 操作流程 | 点击关于我们 |
| 预期结果 | 跳转关于页或弹窗展示 |

### 功能点 4：联系客服

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SETTINGS-004 |
| 功能描述 | 打开微信客服会话 |
| 操作流程 | 点击联系客服 |
| 预期结果 | 调起 button open-type="contact" 或复制客服信息 |
| 备注 | 需在小程序后台配置客服 |

### 功能点 5：用户协议与隐私政策

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SETTINGS-005 |
| 功能描述 | 查看用户协议、隐私政策 |
| 操作流程 | 点击对应链接 |
| 预期结果 | 打开 web-view 或内置页面展示协议内容 |

### 功能点 6：退出登录

| 项目 | 说明 |
|------|------|
| 功能 ID | F-SETTINGS-006 |
| 功能描述 | 退出当前账号 |
| 操作流程 | 点击退出 → 确认 |
| 预期结果 | 清除本地 token 和用户信息；返回首页或个人中心（未登录态） |

## 页面参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 无 | - | - | 从个人中心进入，通常无参数 |

## 交互逻辑

1. **进入页面**：需已登录；加载当前用户信息用于展示。
2. **编辑信息**：跳转编辑页或弹窗；保存后调用更新接口。
3. **服务商入口**：跳转对应页面。
4. **退出登录**：确认后清除本地数据，可选调用服务端 logout（如有）。

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/user/profile | GET | 获取用户信息 |
| /api/v1/user/profile | PUT | 更新用户信息（昵称、头像等） |

## 异常与边界

- 未登录进入：重定向到登录页。
- 手机号授权失败：提示稍后在设置中补充。
- 服务商页面：若为独立 H5 或小程序，需处理跳转方式。
