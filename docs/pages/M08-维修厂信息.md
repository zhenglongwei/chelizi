# 维修厂信息页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | `/pages/merchant/shop/profile/index` |
| 页面标识 | 维修厂信息、本店信息、补充信息 |
| 载体 | 微信小程序 |
| 入口 | 服务商工作台「维修厂信息」；**注册成功后直接跳转**（无需先登录） |

## 页面功能概述

服务商查看和编辑本店信息，包括名称、地址、电话、营业时间、**维修资质等级**、服务商照片、技师持证等。注册完成后首次进入为补充信息流程。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 基本信息 | 名称、地址（wx.chooseLocation 地图选点）、电话、营业时间（选择器统一格式） |
| **资质信息** | **维修资质等级**（GB/T 16739 选择：一类/二类/三类）、**技师持证情况**（头像、姓名/称呼、等级、从业年限，等级参照国家职业资格） |
| **服务商照片** | 店铺门头、车间等环境照片（最多 6 张） |
| 保存按钮 | 提交修改 |

- 营业时间：选择器，选项如 8:00-18:00、8:00-20:00、24 小时等
- 维修资质：参照 GB/T 16739 汽车维修业经营业务条件
- 技师等级：初级工(五级)、中级工(四级)、高级工(三级)、技师(二级)、高级技师(一级)

## 功能点详细说明

### 功能点 1：查看本店信息

| 项目 | 说明 |
|------|------|
| 功能 ID | F-M-SHOP-001 |
| 功能描述 | 展示本店完整信息 |
| 操作流程 | 进入页面自动加载 |
| 预期结果 | 展示 shops 表中本店数据 |
| 备注 | 与车主端维修厂详情页数据一致 |

### 功能点 2：编辑并保存

| 项目 | 说明 |
|------|------|
| 功能 ID | F-M-SHOP-002 |
| 功能描述 | 修改本店信息并保存 |
| 操作流程 | 点击编辑 → 修改字段 → 保存 |
| 预期结果 | 更新 shops 表，提示「保存成功」 |
| 限制 | 部分字段可能不可编辑（如 shop_id、地理位置需审核） |

## 页面参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 无 | - | - | 根据登录态获取本店 shop_id |

## 交互逻辑

1. **进入页面**：根据当前登录服务商的 shop_id 加载店铺信息。
2. **编辑**：可编辑名称、地址、电话、营业时间、服务分类等。
3. **保存**：校验必填项 → 调用更新接口 → 成功提示。

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/merchant/shop | GET | 获取本店信息 |
| /api/v1/merchant/shop | PUT | 更新本店信息；请求体：`qualification_level`、`technician_certs`（[{avatar_url,name,level,years}]）、`shop_images`（URL 数组） |

## 维修资质等级逻辑（与注册流程衔接）

1. **营业执照已识别**（qualification_ai_recognized 有值）：直接展示，用户确认后保存。
2. **营业执照未识别**：要求上传资质证明进行 AI 识别；若仍失败可手动选择（提交人工审核）。
3. 服务商照片、技师持证等：按原 AI 优先策略审核。

## 异常与边界

- 未登录：跳转登录。
- 本店不存在：异常情况，提示联系平台。
- 地址/坐标变更：若涉及地理位置，可按规则需后台审核。
