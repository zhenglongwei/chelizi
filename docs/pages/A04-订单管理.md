# 订单管理页

## 基本信息

| 项目 | 说明 |
|------|------|
| 页面路径 | /admin/orders |
| 页面标识 | 订单管理、订单监控 |
| 载体 | Web 管理后台 |
| 源码位置 | web/src/admin/pages/OrderManagement.tsx |

## 页面功能概述

展示平台全部维修订单，支持按订单号、状态、车主、维修厂、日期筛选，查看订单详情、报价审核等。

## 页面布局结构

| 模块 | 说明 |
|------|------|
| 筛选区 | 订单号、状态、车主ID、维修厂ID、日期范围 |
| 列表表格 | 订单号、状态、金额、车主、维修厂、**订单分级、奖励金明细**、创建时间 |
| 操作列 | 查看详情 |
| 详情弹窗 | 订单详情、报价信息、审核报价 |

## 功能点详细说明

### 功能点 1：订单列表

| 项目 | 说明 |
|------|------|
| 功能 ID | F-A-ORDER-001 |
| 功能描述 | 分页展示订单列表 |
| 操作流程 | 进入页面或切换筛选 |
| 预期结果 | 展示 orders 表数据，关联 users、shops |
| 备注 | 状态 0-4：待接单、维修中、待确认、已完成、已取消 |

### 功能点 2：订单详情

| 项目 | 说明 |
|------|------|
| 功能 ID | F-A-ORDER-002 |
| 功能描述 | 查看订单完整信息 |
| 操作流程 | 点击查看详情 |
| 预期结果 | 弹窗或跳转展示订单、报价、车主、维修厂信息 |

### 功能点 3：报价审核

| 项目 | 说明 |
|------|------|
| 功能 ID | F-A-ORDER-003 |
| 功能描述 | 对订单关联报价进行审核（按业务规则） |
| 操作流程 | 在详情中点击审核报价 |
| 预期结果 | 调用审核接口，更新状态 |
| 备注 | 车厘子流程中车主选厂即生成订单，报价审核可为补充流程 |

## 依赖接口

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/v1/admin/orders | GET | 订单列表，支持 page、pageSize、orderNo、status、ownerId、merchantId、startDate、endDate |
| /api/v1/admin/orders/:orderNo | GET | 订单详情 |
| /api/v1/admin/orders/:orderNo/audit-quote | POST | 报价审核 |

## 异常与边界

- 订单号与 order_id 映射：后台可能使用 orderNo 字段名，对应 orders.order_id。
- merchantId 对应 shop_id。

## 样式说明

后台为 Web 页面，样式独立于小程序。
