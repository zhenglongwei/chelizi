# 文档同步

功能/字段/接口变化时，按下方检查清单同步更新相关文档。**提交代码前勾选完成项**。

---

## 一、强制规则：体系文档变更

**涉及 `docs/体系/` 下任一文档的功能/规则变化时**：

1. **必须**同步修改对应的 `docs/体系/` 下文档
2. **禁止**新增独立文档替代或补充，应直接更新既有文档
3. 若变更涉及多文档，需同步更新所有相关文档

详见 [.cursor/rules/文档变更同步.mdc](../.cursor/rules/文档变更同步.mdc)、[docs/体系/00-体系索引.md](../docs/体系/00-体系索引.md)。

---

## 二、变更类型 → 必更文档对照表

| 变更类型 | 必更文档 | 说明 |
|----------|----------|------|
| **产品需求** | `车厘子需求文档.md` | 功能、流程、业务规则变更 |
| **全流程/三端** | `车厘子-全流程需求梳理.md` | 车主端/服务商端/后台流程调整 |
| **样式/组件/令牌** | `设计规范.md`、`styles/design-system.wxss` | 新增组件、配色、间距、字号等 |
| **用户等级/评价质量/激励/点赞追加/店铺/排序/竞价** | `docs/体系/01-07` 对应文档 | **同步修改既有文档，禁止新增** |
| **表/字段/索引** | `docs/database/数据库设计文档.md`、`web/database/schema.sql` | 新增表、字段、索引、迁移脚本 |
| **页面功能** | `docs/pages/00-页面索引.md`、`docs/pages/XX-页面名.md` | 新增/修改页面时更新对应功能说明 |
| **竞价流程** | `docs/竞价流程与状态流转.md` | 竞价状态、流转规则变更 |
| **维修方案/订单流程** | `docs/维修方案调整与确认流程.md`、`docs/pages/07-订单详情页.md`、`docs/pages/M07-服务商订单详情.md` | 维修方案调整、车主确认、报价免责、评价方案对比 |

---

## 三、提交前检查清单（勾选）

变更完成后，逐项确认：

- [ ] 已更新上述对照表中对应的文档
- [ ] 数据库变更已同步 `schema.sql` 及设计文档
- [ ] 页面变更已同步 `docs/pages/` 下对应说明
- [ ] 无遗留「待补充」「TODO」等占位

---

## 四、定期校验（建议每季度或每大版本）

由负责人或 AI 辅助，抽查以下项：

| 校验项 | 方法 | 说明 |
|--------|------|------|
| 页面文档与实现一致 | 随机抽 3–5 个页面，对照 `docs/pages/XX.md` 与代码 | 功能点、参数、接口是否一致 |
| 数据库文档与 schema 一致 | 对比 `数据库设计文档` 与 `schema.sql` | 表、字段、索引是否同步 |
| 设计规范与 design-system 一致 | 对比《设计规范》与 `design-system.wxss` | 变量、工具类是否对应 |
| 评价/奖励金规则与实现一致 | 对照《全指标底层逻辑梳理》与 reward/order 相关代码 | 发放节点、合规红线是否落地 |

校验结果记录于 [docs/文档校验记录.md](../docs/文档校验记录.md)。
