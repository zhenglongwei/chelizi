# 车厘子 - 设计规范（浅色主题）

版本：v1.0  
日期：2026年2月  
适用范围：车主端小程序

---

## 一、实现文件

**设计令牌与组件类**：`styles/design-system.wxss`

- 所有颜色、间距、圆角、字号均以 **CSS 变量** 定义
- 页面开发必须使用 `var(--xxx)` 或预定义工具类，**禁止硬编码**

---

## 二、设计原则

- **浅色主题**：全站统一浅色，清爽、有活力、易读
- **配色倾向**：品牌蓝明快、强调色（金色）鲜明、背景略偏冷白，避免灰暗
- **设计稿基准**：宽度 390px，小程序 750rpx = 屏宽，换算 **1px ≈ 2rpx**

---

## 三、配色速查（design-system.wxss）

| 变量 | 色值 | 用途 |
|------|------|------|
| --primary | #2563EB | 品牌蓝、主按钮 |
| --primary-light | #60A5FA | 辅助蓝、链接 |
| --accent | #EAB308 | 强调色、Tab 选中 |
| --success | #22C55E | 成功、返点 |
| --warning | #F59E0B | 星级、待处理 |
| --danger | #EF4444 | 失败、删除 |
| --bg-page | #F8FAFC | 页面背景 |
| --text-primary | #1E293B | 主文字 |
| --text-secondary | #475569 | 次文字 |
| --text-hint | #94A3B8 | 弱文字 |

---

## 四、令牌速查（design-system.wxss）

| 类型 | 变量示例 | 用途 |
|------|----------|------|
| 色彩 | `--primary`、`--accent`、`--bg-page`、`--text-primary` | 品牌蓝、强调金、背景、文字（明亮有活力） |
| 间距 | `--space-xs` ~ `--space-2xl` | 8/12/16/24/32/48 rpx |
| 圆角 | `--radius-sm` ~ `--radius-full` | 8/16/24/48 rpx、50% |
| 字号 | `--fs-h1` ~ `--fs-sm` | 40/36/32/28/26/24 rpx（最小可读 24rpx） |
| 阴影 | `--shadow-sm`、`--shadow`、`--shadow-lg`、`--shadow-card` | 搜索栏、广告区、卡片、悬浮 |

---

## 五、组件模式

| 组件 | 类名 / 规范 |
|------|-------------|
| 卡片 | `.card`：白底、圆角 24rpx、内边距 32rpx、阴影 |
| 主按钮 | `.btn-primary`：高度 72rpx、金色或品牌蓝 |
| 次按钮 | `.btn-secondary`：边框 + 透明背景 |
| 输入框 | `.input-wrap`：圆角 48rpx、白底、边框 |
| 布局 | `.flex`、`.flex-row`、`.flex-col`、`.center` |

### 列表项

- 左图右文，图 `160rpx×160rpx`，圆角 `16rpx`
- 主文字 `28rpx` bold，次文字 `26rpx` 起（避免过小）

### 空状态 / 加载态

- 图标 + 文案居中，`--text-hint`

---

## 六、WXML 动态样式（必须遵守）

- **禁止**：`style="width: {{x}}%"`、`style="height: {{y}}px"` 等混写静态与动态
- **正确**：在 data 中维护完整 style 字符串，wxml 使用 `style="{{styleKey}}"`
- 示例：进度条宽度：`data: { progressStyle: 'width: 0%' }`，更新时 `setData({ progressStyle: 'width: ' + p + '%' })`

---

## 七、页面布局（全局约束，所有页面必须遵守）

### 7.1 页边距与防溢出

- **左右边距**：主内容区必须使用 `var(--page-padding-x)`（32rpx）作为左右 padding，禁止写死或省略
- **页面根容器**：使用 `.page-root` 或等效样式，确保 `width: 100%`、`overflow-x: hidden`，防止内容横向溢出
- **滚动区**：使用 `.page-scroll` 或 `padding: 0 var(--page-padding-x)`，保证内容在安全区内

### 7.2 区块标题行

- 标题 + 右侧「更多」等操作时，标题需 `min-width: 0`、`overflow: hidden`，避免把右侧按钮挤出屏幕
- 可使用 `.section-head`、`.section-title`、`.section-more` 工具类

### 7.3 多入口网格（快捷入口、功能入口等）

- 4 个图标入口：建议 **2×2 卡片网格**，每项为独立 `.card`
- 图标：≥ 88rpx，背景使用 `rgba(234,179,8,0.15)`（--accent 浅色）等
- 文字：≥ 28rpx（`fs-body`），避免用 `fs-sm` 做主要入口文案

### 7.4 自定义导航栏（解决标题过近/被遮挡）

- **问题**：系统导航栏（`navigationStyle: default`）在部分机型上标题垂直位置偏下，视觉上好像被遮挡
- **方案**：使用 `navigationStyle: "custom"` 配合自定义导航栏组件 `custom-nav-bar`
- **实现**：
  1. 页面 json 设置 `navigationStyle: "custom"`
  2. 引入组件：`"custom-nav-bar": "/components/custom-nav-bar/index"`
  3. wxml 使用：`<custom-nav-bar title="页面标题" />`；**通过 navigate 进入的子页**需加 `showBack="{{true}}"` 显示返回按钮
  4. 主内容区根元素使用 `style="{{pageRootStyle}}"`，在 onLoad 时 `setData({ pageRootStyle: 'padding-top: ' + getNavBarHeight() + 'px' })`（遵守 WXML 动态样式规范）
- **规则**：TabBar 主页面（首页、定损、个人中心）**不**加 showBack；其余通过 navigate 跳转的子页**必须**加 showBack
- **设计变量**：`design-system.wxss` 提供 `--nav-bar-height`、`--nav-bar-title-font-size`（30rpx）、`--nav-bar-title-font-weight`（400，非粗体）

### 7.5 页面分类

- **Tab 主框架**：顶部原生/自定义导航 → scroll-view → 底部 TabBar 占位
- **列表页**：筛选栏（可选）+ 列表
- **详情页**：信息分区清晰，底部固定操作区
- **流程页**：步骤明确，操作反馈清晰

---

## 八、实现步骤

1. 设计令牌：`styles/design-system.wxss`（已实现）
2. 首页 → 维修厂搜索列表 → 维修厂详情 → AI 定损 → 其余页面

---

## 九、图标

- 格式：PNG
- 存放：`/images/icon/`（**统一使用此目录**，禁止网络图标、emoji）
- 尺寸：按 @2x 提供（如 48px → 96rpx 展示）
- 若图标不存在：可在代码中先写路径，注释说明所需颜色（如「白色以适配深色背景」）

---

## 十、参考

- 页面功能：`docs/pages/00-页面索引.md`
- 数据库：`docs/database/数据库设计文档.md`
- 需求：`车厘子需求文档.md`
